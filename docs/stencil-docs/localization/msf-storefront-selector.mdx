# Customer-facing Storefront Selector

To provide localized shopping experiences, you can add a storefront selector to a theme. 
When you have multiple storefronts that target specific shopper segments, regions, or brands, shoppers can select the storefront they want to browse when they visit your storefront. 

You can do the following with the storefront switchers that you create and inject into a theme:

- Customize the style of the switcher and its options
- Choose which pages you want the selector to appear
- Select the storefronts that you include in the selector 

Currently, there is no Stencil object for the storefront selector. Instead, you can add data for the storefront selector in the `config.json` file, which allows the selector to appear in the `theme_settings` Stencil object.

In order to change the data for the selector, you need to clone the Cornerstone repository, install the necessary project dependencies, change the data for the selector, and run the project build to get the bundle that you can then upload to the control panel.

<Callout type="info">
- You cannot change the data for the selector in the `config.json` directly in the control panel because this file is read-only. For more information, see the [Editing Stencil Themes](https://support.bigcommerce.com/s/article/Stencil-Themes) support article.
- You cannot manually change the bundle because the bundle must have a specific Stencil format, which is created only during the automatic build. For more information, see the [Theme Uploads - Restrictions](/docs/storefront/stencil/deployment/upload-errors#restrictions) article.
</Callout>

## Step 1: Clone the GitHub repository
To clone the Cornerstone repository, run the command below in the terminal of your operating system:

```
git clone https://github.com/bigcommerce/cornerstone.git
```

## Step 2: Install Stencil CLI

Open the cloned repository in any code editor (IDE). Open your IDE-terminal (from now we work with IDE-terminal). Depending on the operating system you are using, install the Stencil CLI that should be supported by the appropriate version of Node.js.
To verify the success of the Stencil CLI installation, run the command below in the terminal:

```
stencil -V
```

If you did everything correctly, you will see the Stencil CLI version in the terminal.



## Step 3: Install theme modules, initialize, and run the project locally

To install the modules, run the command in the terminal

```
npm install
```

After successfully installing modules, the node_modules folder will appear in the root of the project. 

Run the following commands to initialize and run the project:

```
stencil init
```

To execute this command, you will need a link to your store, Stencil Access Token, and a port on which your local project will run. After successful initialization, a secrets.stencil.json file (containing the token) will appear in the root of the project.

Run the command to start the project locally:

```
stencil start
```

Go to the local link in the terminal to open your project in the browser.


## Step 4: Change the storefront selector

Open the `config.json` file and edit the necessary storefront selector data. To display the selector in the browser, change the `show_channels` key to true and save the changes. By default, this key is set to false. This key can also be configured in the Page Builder. Refresh the browser page to reflect the changes.

```json filename="Example storefront selector data" copy
"settings": {
  "channels": [
    {
      "id": 1,
      "name": "Example storefront 1",
      "code": "example-storefront-1",
      "is_active": true,
      "switch_url": "https://{{store-hash-1}}.mybigcommerce.com"
    },
    {
      "id": 2,
      "name": "Example storefront 2",
      "code": "example-storefront-2",
      "is_active": false,
      "switch_url": "https://{{store-hash-2}}.mybigcommerce.com"
    },
    {
      "id": 3,
      "name": "Example storefront 3",
      "code": "example-storefront-3",
      "is_active": false,
      "switch_url": "https://{{store-hash-3}}.mybigcommerce.com"
    }
  ],
  "show_channels": false
}
```

## Step 5: Create a bundle with new changes

After making changes in the selector, make sure that everything is displayed correctly in the browser. Then run the command below to build the project bundle with the new changes:

```
stencil bundle
```

After a successful build, a zip file will appear in the project root with the theme name and version, for example Cornerstone-6.14.0.zip.


## Step 6: Upload the bundle to the control panel

To upload the bundle with the updated selector, go to the control panel, find the Storefront tab and click the Upload button. Select the bundle created in the previous step and upload it.
Apply the bundle and open your store. If the selector is not displayed, go to **Page Builder > Theme Styles > Header and Footer > Utility navigation > Show storefront selector** and check this checkbox. Save the changes and refresh the store.


